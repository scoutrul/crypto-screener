/**
 * –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–∞–≤–∏–ª–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —á–∞—Å—Ç–æ—Ç—ã –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –∞–Ω–æ–º–∞–ª–∏–π
 */

console.log('üéØ –î–ï–ú–û–ù–°–¢–†–ê–¶–ò–Ø: –ü—Ä–∞–≤–∏–ª–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —á–∞—Å—Ç–æ—Ç—ã –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –∞–Ω–æ–º–∞–ª–∏–π');
console.log('=' * 70);

console.log('\nüìã –ü–†–û–ë–õ–ï–ú–ê:');
console.log('   –ï—Å–ª–∏ —Å–ø–∏—Å–æ–∫ –∞–Ω–æ–º–∞–ª–∏–π –±–æ–ª—å—à–æ–π, –ø—Ä–æ–≤–µ—Ä–∫–∞ –º–æ–∂–µ—Ç –∑–∞–Ω–∏–º–∞—Ç—å –±–æ–ª—å—à–µ 5 –º–∏–Ω—É—Ç');
console.log('   –≠—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –ø–µ—Ä–µ–≥—Ä—É–∑–∫–µ —Å–∏—Å—Ç–µ–º—ã –ø—Ä–∏ —á–∞—Å—Ç—ã—Ö –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ö');
console.log('   –ù—É–∂–Ω–æ –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å —á–∞—Å—Ç–æ—Ç—É –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∞–Ω–æ–º–∞–ª–∏–π');

console.log('\nüîß –†–ï–®–ï–ù–ò–ï:');
console.log('   –î–æ–±–∞–≤–ª–µ–Ω–æ –ø—Ä–∞–≤–∏–ª–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —á–∞—Å—Ç–æ—Ç—ã –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞:');
console.log('   ‚Ä¢ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª –º–µ–∂–¥—É –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏: 5 –º–∏–Ω—É—Ç');
console.log('   ‚Ä¢ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏: 5 –º–∏–Ω—É—Ç');
console.log('   ‚Ä¢ –ï—Å–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–µ–≤—ã—à–∞–µ—Ç –ª–∏–º–∏—Ç, —Å–ª–µ–¥—É—é—â–∞—è –æ—Ç–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è');

console.log('\nüìä –ü–†–ê–í–ò–õ–ê:');
console.log('   1Ô∏è‚É£ –ü–µ—Ä–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞: –≤—Å–µ–≥–¥–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∞');
console.log('   2Ô∏è‚É£ –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞: –Ω–µ —Ä–∞–Ω—å—à–µ —á–µ–º —á–µ—Ä–µ–∑ 5 –º–∏–Ω—É—Ç');
console.log('   3Ô∏è‚É£ –î–æ–ª–≥–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞: –µ—Å–ª–∏ > 5 –º–∏–Ω—É—Ç, —Å–ª–µ–¥—É—é—â–∞—è –æ—Ç–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è');
console.log('   4Ô∏è‚É£ –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏: –Ω–∞—á–∞–ª–æ –∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫–∞–∂–¥–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏');

console.log('\n‚öôÔ∏è –¢–ï–•–ù–ò–ß–ï–°–ö–ê–Ø –†–ï–ê–õ–ò–ó–ê–¶–ò–Ø:');
console.log('   ‚Ä¢ –ù–æ–≤—ã–µ –ø–æ–ª—è –≤ VirtualTradingSystem:');
console.log('     - lastAnomalyCheckStart: –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–π –ø—Ä–æ–≤–µ—Ä–∫–∏');
console.log('     - anomalyCheckDuration: –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–æ—Å–ª–µ–¥–Ω–µ–π –ø—Ä–æ–≤–µ—Ä–∫–∏');
console.log('     - anomalyCheckMinInterval: –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª (5 –º–∏–Ω)');
console.log('     - anomalyCheckMaxDuration: –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (5 –º–∏–Ω)');
console.log('   ‚Ä¢ –ù–æ–≤—ã–π –º–µ—Ç–æ–¥ checkAnomalyRateLimit(): –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—Ä–∞–≤–∏–ª–∞');
console.log('   ‚Ä¢ –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π runAnomalyCheck(): –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–∞–≤–∏–ª–∞');

console.log('\nüîç –õ–û–ì–ò–ö–ê –ü–†–û–í–ï–†–ö–ò:');
console.log('   function checkAnomalyRateLimit() {');
console.log('     const now = Date.now();');
console.log('     const timeSinceLastStart = now - this.lastAnomalyCheckStart;');
console.log('     ');
console.log('     // –ï—Å–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –µ—â–µ –Ω–µ –∑–∞–ø—É—Å–∫–∞–ª–∞—Å—å, —Ä–∞–∑—Ä–µ—à–∏—Ç—å');
console.log('     if (this.lastAnomalyCheckStart === 0) return true;');
console.log('     ');
console.log('     // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª –º–µ–∂–¥—É –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏');
console.log('     if (timeSinceLastStart < this.anomalyCheckMinInterval) {');
console.log('       console.log("‚è≥ –ü—Ä–∞–≤–∏–ª–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è: –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–ø—É—â–µ–Ω–∞");');
console.log('       return false;');
console.log('     }');
console.log('     ');
console.log('     // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –Ω–µ –ø—Ä–µ–≤—ã—à–∞–µ—Ç –ª–∏ –ø–æ—Å–ª–µ–¥–Ω—è—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å');
console.log('     if (this.anomalyCheckDuration > this.anomalyCheckMaxDuration) {');
console.log('       console.log("‚ö†Ô∏è –ü—Ä–∞–≤–∏–ª–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è: –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–Ω—è–ª–∞ —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏");');
console.log('       return false;');
console.log('     }');
console.log('     ');
console.log('     return true;');
console.log('   }');

console.log('\nüìà –ü–†–ò–ú–ï–†–´ –°–¶–ï–ù–ê–†–ò–ï–í:');
console.log('   –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ù–æ—Ä–º–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (30 —Å–µ–∫)');
console.log('     ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –∑–∞ 30 —Å–µ–∫');
console.log('     ‚úÖ –°–ª–µ–¥—É—é—â–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ 5 –º–∏–Ω—É—Ç');
console.log('   ');
console.log('   –°—Ü–µ–Ω–∞—Ä–∏–π 2: –î–æ–ª–≥–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (6 –º–∏–Ω—É—Ç)');
console.log('     ‚ö†Ô∏è –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–Ω—è–ª–∞ 6 –º–∏–Ω—É—Ç (–ø—Ä–µ–≤—ã—à–∞–µ—Ç –ª–∏–º–∏—Ç 5 –º–∏–Ω—É—Ç)');
console.log('     ‚è≥ –°–ª–µ–¥—É—é—â–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–ª–æ–∂–µ–Ω–∞ –Ω–∞ 5 –º–∏–Ω—É—Ç');
console.log('   ');
console.log('   –°—Ü–µ–Ω–∞—Ä–∏–π 3: –ü–æ–ø—ã—Ç–∫–∞ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–Ω—å—à–µ –≤—Ä–µ–º–µ–Ω–∏');
console.log('     ‚è≥ –ü—Ä–∞–≤–∏–ª–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è: –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–ø—É—â–µ–Ω–∞');
console.log('     ‚è≥ –û—Å—Ç–∞–ª–æ—Å—å X —Å–µ–∫ –¥–æ —Å–ª–µ–¥—É—é—â–µ–π –ø—Ä–æ–≤–µ—Ä–∫–∏');

console.log('\nüß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï:');
console.log('   npm run test:anomaly-rate-limit - —Ç–µ—Å—Ç –ø—Ä–∞–≤–∏–ª–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è');
console.log('   npm run demo:anomaly-rate-limit - —ç—Ç–∞ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è');
console.log('   npm run run - –ø–æ–ª–Ω—ã–π –∑–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã —Å –Ω–æ–≤—ã–º –ø—Ä–∞–≤–∏–ª–æ–º');

console.log('\n‚úÖ –ü–†–ï–ò–ú–£–©–ï–°–¢–í–ê:');
console.log('   ‚Ä¢ –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ —Å–∏—Å—Ç–µ–º—ã');
console.log('   ‚Ä¢ –°—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –ø—Ä–∏ –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–∞—Ö –∞–Ω–æ–º–∞–ª–∏–π');
console.log('   ‚Ä¢ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ–≥—É–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∞—Å—Ç–æ—Ç—ã –ø—Ä–æ–≤–µ—Ä–æ–∫');
console.log('   ‚Ä¢ –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞');
console.log('   ‚Ä¢ –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å–∏—Å—Ç–µ–º–æ–π');

console.log('\nüéØ –†–ï–ó–£–õ–¨–¢–ê–¢:');
console.log('   –°–∏—Å—Ç–µ–º–∞ —Ç–µ–ø–µ—Ä—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç —á–∞—Å—Ç–æ—Ç—É –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞');
console.log('   –ø—Ä–æ–≤–µ—Ä–∫–∏ –∞–Ω–æ–º–∞–ª–∏–π, –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—è –ø–µ—Ä–µ–≥—Ä—É–∑–∫—É –ø—Ä–∏ –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–∞—Ö');
console.log('   –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è —Å—Ç–∞–±–∏–ª—å–Ω—É—é —Ä–∞–±–æ—Ç—É —Å–∏—Å—Ç–µ–º—ã');

console.log('\n' + '=' * 70);
console.log('‚úÖ –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞'); 