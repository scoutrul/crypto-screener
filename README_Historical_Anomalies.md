# üìä –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –ê–Ω–æ–º–∞–ª–∏–∏

## –û–ø–∏—Å–∞–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤—Å–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –∞–Ω–æ–º–∞–ª–∏–∏ –≤ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã, –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø–æ –¥–Ω—è–º. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∞–Ω–æ–º–∞–ª–∏–π –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è.

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

### –§–æ—Ä–º–∞—Ç –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞
```
anomalies_YYYY-MM-DD.json
```

–ü—Ä–∏–º–µ—Ä: `anomalies_2025-07-31.json`

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö
```json
{
  "meta": {
    "dayStats": {
      "date": "2025-07-31",
      "totalAnomalies": 15,
      "lastUpdated": "2025-07-31T12:30:45.123Z",
      "longAnomaliesCount": 8,
      "shortAnomaliesCount": 7,
      "averageVolumeLeverage": "2.3",
      "topVolumeLeverages": [
        { "symbol": "BTC/USDT", "leverage": 5.2 },
        { "symbol": "ETH/USDT", "leverage": 4.1 }
      ]
    },
    "fileInfo": {
      "version": "1.0",
      "description": "Historical anomalies for 2025-07-31",
      "createdAt": "2025-07-31T00:00:00.000Z",
      "lastModified": "2025-07-31T12:30:45.123Z"
    }
  },
  "anomalies": [
    {
      "symbol": "BTC/USDT",
      "anomalyId": "BTC_1732987445123",
      "tradeType": "Long",
      "anomalyTime": "2025-07-31T10:30:45.123Z",
      "watchlistTime": "2025-07-31T10:30:45.123Z",
      "anomalyCandleIndex": 10,
      "anomalyPrice": 50000.0,
      "historicalPrice": 49000.0,
      "currentVolume": 1000000,
      "volumeLeverage": 2.5
    }
  ]
}
```

## üîß –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
- –í—Å–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –∞–Ω–æ–º–∞–ª–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ —Ñ–∞–π–ª —Ç–µ–∫—É—â–µ–≥–æ –¥–Ω—è
- –ü—Ä–∏ —Å–º–µ–Ω–µ –¥–Ω—è —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤—ã–π —Ñ–∞–π–ª
- –°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–Ω–æ–º–∞–ª–∏–π –∑–∞ –¥–µ–Ω—å
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ Long/Short –∞–Ω–æ–º–∞–ª–∏–π
- –°—Ä–µ–¥–Ω–∏–π leverage –æ–±—ä–µ–º–∞
- –¢–æ–ø-10 –∞–Ω–æ–º–∞–ª–∏–π –ø–æ leverage
- –í—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å—Ç–∞—Ä–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ñ–∞–π–ª–æ–≤ (–º–∞—Å—Å–∏–≤ –∞–Ω–æ–º–∞–ª–∏–π)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ

## üìä –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ—Å–º–æ—Ç—Ä –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –∞–Ω–æ–º–∞–ª–∏–π
```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –∞–Ω–æ–º–∞–ª–∏–π –∑–∞ —Å–µ–≥–æ–¥–Ω—è
node scripts/view-historical-anomalies.js

# –ü—Ä–æ—Å–º–æ—Ç—Ä –∞–Ω–æ–º–∞–ª–∏–π –∑–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –¥–∞—Ç—É
node scripts/view-historical-anomalies.js 2025-07-31
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
```bash
# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞
node scripts/test-historical-anomalies.js
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π
–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –∞–Ω–æ–º–∞–ª–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã –≤ –æ—Å–Ω–æ–≤–Ω—É—é —Å–∏—Å—Ç–µ–º—É —Ç–æ—Ä–≥–æ–≤–ª–∏:

1. **–û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∞–Ω–æ–º–∞–ª–∏–∏** ‚Üí –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –∏—Å—Ç–æ—Ä–∏—é
2. **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** ‚Üí –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –∫–æ–Ω—Å–æ–ª–∏
3. **–û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–∏—Å—Ç–µ–º—ã** ‚Üí –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–µ–∫—É—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö

## üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤ –∫–æ–Ω—Å–æ–ª–∏

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ `showStatistics()` –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è:

```
üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê –ò–°–¢–û–†–ò–ß–ï–°–ö–ò–• –ê–ù–û–ú–ê–õ–ò–ô (—Å–µ–≥–æ–¥–Ω—è):
üìã –í—Å–µ–≥–æ –∞–Ω–æ–º–∞–ª–∏–π –∑–∞ –¥–µ–Ω—å: 15
üìà Long –∞–Ω–æ–º–∞–ª–∏–∏: 8
üìâ Short –∞–Ω–æ–º–∞–ª–∏–∏: 7
üìä –°—Ä–µ–¥–Ω–∏–π leverage: 2.3x
üìä –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π leverage: 5.2x
üìä –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π leverage: 1.1x
üìÅ –§–∞–π–ª: anomalies_2025-07-31.json
```

## üîÑ –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª

1. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è**: –ó–∞–≥—Ä—É–∑–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∞–Ω–æ–º–∞–ª–∏–π –∑–∞ —Ç–µ–∫—É—â–∏–π –¥–µ–Ω—å
2. **–û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ**: –ü—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –∞–Ω–æ–º–∞–ª–∏–∏ ‚Üí —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –∏—Å—Ç–æ—Ä–∏—é
3. **–°–º–µ–Ω–∞ –¥–Ω—è**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞
4. **–û—Å—Ç–∞–Ω–æ–≤–∫–∞**: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

## üìã –ú–µ—Ç–æ–¥—ã API

### `saveAnomalyToHistory(anomaly)`
–°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∞–Ω–æ–º–∞–ª–∏—é –≤ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π —Ñ–∞–π–ª —Ç–µ–∫—É—â–µ–≥–æ –¥–Ω—è.

### `loadHistoricalAnomalies(dayString)`
–ó–∞–≥—Ä—É–∂–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –∞–Ω–æ–º–∞–ª–∏–∏ –∑–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π –¥–µ–Ω—å.

### `saveHistoricalAnomaliesForDay(dayString)`
–°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤—Å–µ –∞–Ω–æ–º–∞–ª–∏–∏ –∑–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π –¥–µ–Ω—å –≤ —Ñ–∞–π–ª.

### `getCurrentDayString()`
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—É—â–∏–π –¥–µ–Ω—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ YYYY-MM-DD.

### `getHistoricalAnomaliesFilePath(dayString)`
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –∞–Ω–æ–º–∞–ª–∏–π.

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

1. **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞**: –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∞–Ω–∞–ª–∏–∑–∞ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –∞–Ω–æ–º–∞–ª–∏–π
2. **–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ**: –ò—Å—Ç–æ—Ä–∏—è –≤—Å–µ—Ö –æ–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã—Ö –∞–Ω–æ–º–∞–ª–∏–π
3. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
4. **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ
5. **–ì–∏–±–∫–æ—Å—Ç—å**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ –¥–∞–Ω–Ω—ã—Ö

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ê–Ω–∞–ª–∏–∑ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
```javascript
// –ó–∞–≥—Ä—É–∑–∏—Ç—å –∞–Ω–æ–º–∞–ª–∏–∏ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 7 –¥–Ω–µ–π
const days = ['2025-07-25', '2025-07-26', '2025-07-27', '2025-07-28', '2025-07-29', '2025-07-30', '2025-07-31'];

for (const day of days) {
  const anomalies = await system.loadHistoricalAnomalies(day);
  console.log(`${day}: ${anomalies.length} –∞–Ω–æ–º–∞–ª–∏–π`);
}
```

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ leverage
```javascript
const anomalies = await system.loadHistoricalAnomalies('2025-07-31');
const highLeverage = anomalies.filter(a => a.volumeLeverage > 3);
console.log(`–í—ã—Å–æ–∫–∏–π leverage (>3x): ${highLeverage.length} –∞–Ω–æ–º–∞–ª–∏–π`);
```

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –∞–Ω–æ–º–∞–ª–∏–π –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ —Ä–∞–º–∫–∞—Ö –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã —Ç–æ—Ä–≥–æ–≤–ª–∏. 